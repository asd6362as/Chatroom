<!DOCTYPE html>
<html>

<head>
	<title>聊天室</title>
	<meta charset="utf-8" />
	<link rel="stylesheet" type="text/css" href="css/style.css">
	<link href="css/bootstrap.min.css" rel="stylesheet" type="text/css">
	<script src="js/jquery.min.js"></script>
	<script src="js/sockjs.min.js"></script>
	<script src="js/stomp.min.js"></script>
	<script src="js/chat.js"></script>
	<script src="js/bootstrap-table.js"></script>
</head>

<body>

	<div id="main-content" class="container">
		<button type="button" class="btn btn-light" onClick="location.href='./'">登出</button>
		<div class="row">
			<div class="col-md-12">
				<h2>聊天室</h2>
				<div class="chat" style="overflow: auto;border:5px #000000 solid;">
					<table id="conversation" class="table table-borderless">
						<tbody id="Chatroom">
						</tbody>
					</table>
					<div>
					</div>
				</div>

				<div class="row">
					<div class="col-md-12">
						<form class="form-inline">
							<div class="form-group" style="display:none;">
								<label for="name" class="form-label">用戶　</label>
								<input type="text" class="form-control" id="name" th:value="${name}" />
							</div>
							<div class="form-group">
								<label for="dialogue">發送訊息</label>
								<input type="text" id="dialogue" class="form-control" placeholder="請輸入訊息">
							</div>
							<button id="send" class="btn btn-default" type="submit">發送</button>
						</form>
					</div>
				</div>
			</div>
			<script>
				connect();
				tablehight();
				function tablehight() {
					var pageHeight = document.documentElement.scrollHeight;
					pageHeight = (pageHeight * 80) / 100;
					var chat = document.querySelector('.chat');
					console.log(pageHeight);
					chat.style.height = pageHeight + "px";
				}
			</script>
</body>

</html>